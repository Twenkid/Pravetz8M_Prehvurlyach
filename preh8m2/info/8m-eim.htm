<Font size=5 face="Arial"><font color="white" size=6 face="Times New Roman,Arial">Свещеният сметач - <i>списанието и на осмачетата...</i><br>
<b><font size=3 face="Arial" color=#909090>БРОЙ - 19 (декември 2002)</b><font size=3>
<hr><font size=2><a href="eim19.htm">Брой 19</a>&nbsp <a href="http://eim.hit.bg" target="new">Свещеният сметач</a>
<br>&nbsp

<title>Прехвърляч-8М - пренос на данни от Правец-82/8M към PC</title>
<body bgcolor="black" text="white"> 
<META NAME="description" CONTENT="Глаголна уредба за пренос на информация от Правец-82/8М към IBM-PC, през вход на звукова платка на IBM-PC, създадена през пролетта на 2001 г. Играта "Нашествие" е приложена за сваляне.">
<META NAME="keywords" CONTENT="Правец-82, Правец-8М, Правец, Правец-8,предавне на данни, дискети, гъвчета, Apple, Apple//, Apple-2, игри, Нашествие, касетофон, звук, звукова карта, звукозапис, BASIC, PASCAL, C,
Тодор Арнаудов">

<STYLE>
	A:link  {color: orange; text-decoration: none}
	A:visited  {color: red; text-decoration: none}
	A:hover {color: orange; text-decoration: underline}
</STYLE>
<font color="white">
<font color="orange" size=6>
<center><a href="http://tosh.data.bg">
<font color="white">Бъл<font color="green">гарс<font color="red">ките<font color="orange"> сметачи </a></center>

<font size=5 color="white">&nbsp <center>
<b>Прехвърляч-8М</b> - спасява гъвчета за осмачета от забрава</center>
<p>&nbsp &nbsp &nbsp <font size=4>
"Прехвърляч-8М" е система за еднопосочно предаване на данни от Правец-82/8М (Apple//) към PC. Разработена е през май-юни 2001 г. от
Тодор Арнаудов (Тош, TodProg), но работи "под земята". Сега (декември 2002 г.) "надзърта" от дупката, за да види дали да си остане там...</b>
<p><font size=3><hr>
"Прехвърляч-8М" - наборът мекици за Осмак и Маце действа от около година и 
половина, а изобщо не съм пипал глаголищата от месеци, но е "новина", защото досега само няколко души знаеха за него, а аз бях (може и да си остана)единственият му потребител.
<p>Друга новина е, че едно гъвче с играта <b>"Нашествие"</b>, пренесено с "Прехвърляч-8M", може да се свали от
<a href="http://tosh.data.bg/preh8m">тук</a> - все още скрито кътче на <a href="http://tosh.data.bg">Българските сметачи</a>. Там могат да се видят и
входните платна на <b>"Строител"</b> и <b>"Ловна стрелба"</b> (без техните гъвчета).
<br>
Връзки към подражатели за Apple// има навсякъде, например в <a href="http://eim.hit.bg/igri">Свещеният_сметач/игри</a>
<p>&nbsp
<b>Прехвърляч-8М</b>
<ul>
<li>Средства за еднопосочно предаване на данни от сметаче, съвместимо с Apple//, към PC.
<li>Кръстено е на името на <a href="http://tosh.data.bg">личния ми Емчо</a> (пореден номер 84011/1986), за когото бе създаден. Първите редове на частите
и за Ябълка, и за Маце са въведени на 22 май 2001 г. и, тъй като работата, която "Прехвърляч" върши не е особено сложна, след няколко дни имаше работещо 
ядро. Появяваше се обаче странна грешка в преобразователя за Мацето, която
довеждаше до "израждания" в сглобяваните гъвчета.
Докато открия причината за нея, стана 22 юни, когато бе разчетена първата дискета, в която всичко беше наред - "Черна-1"...

<li>Ябълката трябва да има изход за звуков запис на данни - от oсмиците на това условие отговарят, мисля, само <b>Правец-8М</b> и <b>Правец-82</b>, както и 
първообразите на '82 - <b>"ИМКО" и "ИМКО-2"</b>, които обаче не са произвеждани
в промишлени количества. В следващите разновидности този изход е сметнат за излишен.
<li>Приложението не е напълно обезчовечено (автоматизирано), нуждае се и от "ръчна работа". Не е и практично, защото със сигурност много по-изпипано би 
било да 
се използват сметачните (цифрови) вход-изходи на Осмицата с TTL-равнища и цифровите входове на Мацето.
<br>
Има системи, които използват разширителни платки RS-232 
за Apple// (или вградени в дъното), за да предават данни към други
сметачи през кабел за модем, при което работата е по-лесна, по-сигурна, по-бърза... Някои вълшебници може би дори използват 5.25" гъвчари на мацета, които с подходящо предписание разчитат и гъвчета за Ябълка?
<br>
Нямах нито съобщителна платка за RS-232, нито 5" гъвчарче, както и необходимите знания и умения, за да 
използвам портовете на Мацето и да направя нещо подобно на системата на <a href="http://www.geocities.com/SiliconValley/Bay/2234/computer.htm">Ивайло Белчев</a>, с когото се опитах да обменя опит преди около година и половина, малко преди да се захвана с "Прехвърляч". Опитах се да открия някой, който да ми е свършил работата - Иво спомена, че през '94 г. е прехвърлил своите гъвчета през паралелния вход-изход за печатач на Мацето и сметачните вход-изходи на осмака, но предписанията били загубени... Той бе надеждата ми за лесен изход и като не го открих, ми оставаше да направя "Прехвърляч" както си знам.
<li>Частта върху Емчото (Правец-8М) е на BASIC, като използва и стихчето
"RWTS" за работа с гъвчаря на ниско равнище.

<li>Използват се вградените в постоянната памет стихчета за запис на
двоични данни върху привличаща ивица. (От "Monitor" се извиква с реда: *xxxx.yyyyW, където "xxxx" и "yyyy" са началният и крайният адрес от паметта).

<li>Скоростта на предаване е 1000-2000 бита/сек, зависима от данните. "Ябълката" започва предаването с 10-секунден "водещ тон" - правоъгълни импулси с честота 770 Хц ("Прехвърляч"-ът има нужда от него, но и секунда стига). Пусковият бит е "0" 
- честотата му е 2 kHz ("1" се превежда с 1 kHz). Следват "чистите данни" - без никакви служебни знаци, а след тях - байт с "контролна сума" за проверка на верността на информацията. Засега глаголището не я взима предвид - проверката се извършва "на око" - по размера на изходния свитък, който трябва да бъде 16384 или 12288 байта, или пък ако размерът е точен - по нетръгването на
някоя мекичка от гъвчето.
<li>Тъй като връзката е еднопосочна, при грешка е необходимо наново да се 
предаде целият повреден къс данни.
<li>Глаголището за Осмицата чете гъвчето на части по 16 КБ (с изключение на последната, която е 12: 8 * 16 + 12 = 140) и изпраща всяка част "по жицата" - достатъчна е една, без замасяване, която стига до звуковата
платка на Мацето - необходимо е подходящо пъхало, като това за слушалки (не знам как се води стандарта), към което да се свърже проводникът, който излиза
от Осмицата; едно предаване трае минута-две. При съвършено развитие, без 
повторни предавания, са необходими по-малко от 15 минути за страна на гъвче.

<li>Засега не се извършва никакво предварително, макар и най-просто 
свиване на данните - те се предават "сурови". Сещам се за два лесно 
осъществими начини за ускоряване на предаването - двоично "обръщане" на 
данните, ако по-бързопредаваните битове - "0", са по-малко на брой в първоначалния им вид; и търсене на дълги поредици с еднакви знаци (байтове, съобразявайки се с 8-битовата дума на 6502), които да се съкращават до
няколко байта: брой различни байта, следват различните байтове; брой на 
повтарящите се байтове - съответната стойност.<br>
За да има свиване обаче ще трябва да се измисли и някакъв прост протокол,
защото дължината на късовете ще стане променлива и ще се пращат служебни данни. Печалбата ще си струва най-вече при изпращане на празни дялове от 
гъвчета, а при запълнени с произволни данни, най-малко, винаги ще се постига скорост от поне 1500 бита/сек. Не знам обаче дали ползата ще си струва работата.

<li>Звукът се записва от човека с външна мекица
във въоблик 8 kHz/8-bit, импулсно-кодова модулация (PCM). Началото на свитъка, следователно и заглавната част, се прескача от "Прехвърляч" в сегашната разновидност, така че може да се използва и "суров звук" (RAW).

<li>Свитъците със звука се подават на глаголището за Мацето, което от
звукозаписите извежда нов свитък с данните. Има разновидности за DOS на "Pascal" и за Windows на "C".

<li>След като се получат и преведат, парчетата от гъвчето трябва да се слеят - правя го със свитък с казби за вседържеца, защото не съм го вградил глаголно:<br>
<pre>copy /b 1.d+2.d+ ...+9.d /b nomer10.dsk</pre>

<li><B>И така, ако информацията е пренесена без грешки, подражателят за Apple// кара 
мекичките от старите гъвчета да оживеят отново!</B>
</ul>
<p>Ако има хора, които пазят милото си осмаче и се чудят как да
запазят данните си на по-сигурен носител от гъвчета, или имат на гъвчетата си някоя [българска] игра, която липсва на <a href="ftp://ftp.apple.asimov.net">
ftp.apple.asimov.net</a> или където и да 
било, ще се стегна да събера мекичките в приложение, което може да се използва от потребители.
<p>
<a href="mailto:dzbe@mail.bg">Пиши на Тош</a>
<br>&nbsp <hr>
<br>Научи нещо интересно или дай мнението си за "Прехвърляч": <a href="http://bgit.net">
http://bgit.net</a> или <a href="http://www.pcclub-bg.com/bulgarian/forums.html">Форума</a> на сп. "PC CLUB".


